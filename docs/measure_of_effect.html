<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; Measures of effect (association) â€“ Hands-On Pharmacoepidemiology</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./bias_confounding.html" rel="next">
<link href="./measure_frequency.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./measure_of_effect.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Measures of effect (association)</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./images/logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Hands-On Pharmacoepidemiology</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="./Hands-On-Pharmacoepidemiology.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical exercises</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./measure_frequency.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Measures of frequency</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./measure_of_effect.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Measures of effect (association)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bias_confounding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Bias &amp; Condounding</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#risk-ratios" id="toc-risk-ratios" class="nav-link active" data-scroll-target="#risk-ratios"><span class="header-section-number">2.1</span> Risk Ratios</a>
  <ul class="collapse">
  <li><a href="#excercise-1" id="toc-excercise-1" class="nav-link" data-scroll-target="#excercise-1"><span class="header-section-number">2.1.1</span> <span id="RR01">Excercise 1</span></a></li>
  <li><a href="#excercise-2" id="toc-excercise-2" class="nav-link" data-scroll-target="#excercise-2"><span class="header-section-number">2.1.2</span> Excercise 2</a></li>
  <li><a href="#excercise-3" id="toc-excercise-3" class="nav-link" data-scroll-target="#excercise-3"><span class="header-section-number">2.1.3</span> Excercise 3</a></li>
  </ul></li>
  <li><a href="#odds-ratios" id="toc-odds-ratios" class="nav-link" data-scroll-target="#odds-ratios"><span class="header-section-number">2.2</span> Odds Ratios</a>
  <ul class="collapse">
  <li><a href="#excercise-1-1" id="toc-excercise-1-1" class="nav-link" data-scroll-target="#excercise-1-1"><span class="header-section-number">2.2.1</span> Excercise 1</a></li>
  <li><a href="#excercise-2-1" id="toc-excercise-2-1" class="nav-link" data-scroll-target="#excercise-2-1"><span class="header-section-number">2.2.2</span> Excercise 2</a></li>
  <li><a href="#excercise-3-1" id="toc-excercise-3-1" class="nav-link" data-scroll-target="#excercise-3-1"><span class="header-section-number">2.2.3</span> Excercise 3</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-measure-of-effect" class="quarto-section-identifier"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Measures of effect (association)</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>These are hypothetical scenarios designed to practice the topics covered during the lecture.</p>
<p><a href="https://ignaleiva.github.io/Lecture2-Frequency-Effect/#/section">Lecture 2. Measures in (Pharmaco)Epidemiology</a></p>
<section id="risk-ratios" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="risk-ratios"><span class="header-section-number">2.1</span> Risk Ratios</h2>
<section id="excercise-1" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="excercise-1"><span class="header-section-number">2.1.1</span> <span id="RR01">Excercise 1</span></h3>
You are part of a research team conducting a cohort study to evaluate the effect of hormone replacement therapy (HRT) on the development of coronary heart disease (CHD). The research team enrolled post-menopausal women on HRT with no prior history of CHD and followed them for 7 years.
<p style="font-size: 16px; color: gray;">
Sssume no loss to follow-up.
</p>
<p style="font-size: 16px; color: gray; font-weight: 100;font-style: italic;">
Remember: Exposure, HRT, is on the left side of the table, while the outcome, CHD, is on the top of the table.
</p>
<table class="caption-top table" data-quarto-postprocess="true" data-cellpadding="8" data-cellspacing="0">
<tbody>
<tr class="odd" style="width:10%; font-weight:900;">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%"></td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">CHD (+)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">CHD (-)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Total</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white; font-weight: 900" data-"="">HRT (+)</td>
<td>210</td>
<td>3290</td>
<td>3500</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white; font-weight: 900" data-"="">HRT(-)</td>
<td>250</td>
<td>6250</td>
<td>6500</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%; font-weight: 900" data-"="">Total</td>
<td>460</td>
<td>9540</td>
<td>10000</td>
</tr>
</tbody>
</table>
<p><em>Task:</em></p>
<ul style="list-style-type: upper-alpha;">
<li>
Calculate and interpret the relative risk (RR) for the cohort.
</li>
<li>
Calculate and interpret the risk difference (RD) for the cohort
</li>
</ul>
<!--Solution RR01B-->
<details>
<summary>
Solution A
</summary>
<p><span class="math display">\[
P(D+ \mid E+)= \frac{210}{3500} = 0.060
\]</span></p>
<p><span class="math display">\[
P(D+ \mid E-)= \frac{250}{6500} = 0.038
\]</span></p>
<p><span class="math display">\[
RR= \frac{0.64}{0.4} = 1.58
\]</span></p>
<p><strong>Interpretation:</strong> Women on HRT have 1.58 times the risk of CHD compared to those who do not take HRT over 7 years.</p>
</details>
<!--Solution RR01B-->
<details>
<summary>
Solution B
</summary>
<p><span class="math display">\[
RD= 0.060 - 0.038 = 0.022
\]</span></p>
<p><strong>Interpretation:</strong> There is an excess of 22 cases of CHD per 1000 women attributable to HRT use over 7 years.</p>
</details>
</section>
<section id="excercise-2" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="excercise-2"><span class="header-section-number">2.1.2</span> Excercise 2</h3>
<p>A study assesses the relationship between smoking habits and esophageal cancer. 1200 people were enrolled in the study. 450 out of 1200 participants had esophageal cancer, while 320 of the diseased participants were smokers while. The total number of smokers in the study was 550.</p>
<p style="color: #a50e58; font-weight: 900;">
Fill out the 2x2 table!
</p>
<table class="caption-top table" data-quarto-postprocess="true" data-cellpadding="8" data-cellspacing="0">
<tbody>
<tr class="odd" style="width:10%; font-weight:900;">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%"></td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Lung Cancer (+)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Lung Cancer (-)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Total</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white; font-weight: 900">Smoker (+)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white; font-weight: 900">Smoker(-)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%; font-weight: 900">Total</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><em>Task:</em></p>
<ul style="list-style-type: upper-alpha;">
<li>
What proportion of the incidence of esophageal cancer can be directly attributed to smoking?
</li>
<li>
Calculate the risk ratio for the relationship between smoking and lung cancer, interpret the result.
</li>
</ul>
<!-- Soluyion Table RR02-->
<details>
<summary>
Solution Table
</summary>
<table class="caption-top table" data-quarto-postprocess="true" data-cellpadding="8" data-cellspacing="0">
<tbody>
<tr class="odd" style="width:10%; font-weight:900;">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%"></td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Lung Cancer (+)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Lung Cancer (-)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Total</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white; font-weight: 900">Smoker (+)</td>
<td>320</td>
<td>230</td>
<td>550</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white; font-weight: 900">Smoker(-)</td>
<td>130</td>
<td>520</td>
<td>650</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%; font-weight: 900">Total</td>
<td>450</td>
<td>750</td>
<td>1200</td>
</tr>
</tbody>
</table>
</details>
<!-- Solution RR02A-->
<details>
<summary>
Solution A
</summary>
<p><span class="math display">\[
\text{Atributable Risk} = \frac{320}{550} - \frac{130}{650} =  0.58 â€“ 0.20 = 0.38
\]</span></p>
<strong>Interpretation:</strong> 0.38 or 38% of the cases of esophageal cancer in the cohort can be attributed to smoking
</details>
<!-- Solution RR02B-->
<details>
<summary>
Solution B
</summary>
<p><span class="math display">\[
RR = \frac{\frac{320}{550}}{\frac{130}{650}} = \frac{0.58}{0.20} = 2.90
\]</span></p>
<p><strong>Interpretation:</strong> The risk of esophageal cancer among the smokers is 2,90 times as high as the risk of esophageal cancer among the non-smokers.</p>
</details>
</section>
<section id="excercise-3" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="excercise-3"><span class="header-section-number">2.1.3</span> Excercise 3</h3>
<p>Coming back the investigation of the effect of HRT in post-menopausal women, you now have the following information</p>
<table class="caption-top table" data-quarto-postprocess="true" data-cellpadding="8" data-cellspacing="0">
<tbody>
<tr class="odd" style="width:10%;font-weight:900;">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%"></td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">With CHD (+)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Person-Years of Disease-free Follow-up</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white; font-weight: 900">HRT (+)</td>
<td>28</td>
<td>52,106</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white; font-weight: 900">HRT (-)</td>
<td>58</td>
<td>50,238</td>
</tr>
</tbody>
</table>


<p><em>Task:</em></p>
<ul style="list-style-type: upper-alpha;">
<li>
Calculate the Incidece rate among the exposed and unexposed women
</li>
<li>
Calculate the rate ratio for the relationship between HRT and CHD, interpret the result.
</li>
</ul>
<!----Solution RR03A-->
<details>
<summary>
Solution A
</summary>
<p><span class="math display">\[
IR_{exposed}= \frac{28}{52,106} = 0.0005373661 \times 100,000 =  53.74 \text{ person-years}
\]</span></p>
<p><span class="math display">\[
IR_{unexposed}= \frac{58}{50,238} = 0.001154505 \times 100,000 = 115.45 \text{ person-years}
\]</span></p>
</details>
<!----Solution RR03B-->
<details>
<summary>
Solution B
</summary>
<p><span class="math display">\[
\text{Rate Ratio}= \frac{53.74}{115.45}  = 0.465
\]</span></p>
<p><strong>Interpretation:</strong> Women on HRT had 0.47 times the rate of CHD compared to women who did not use HRT</p>
<!---
(Rate ratios are often interpreted as if they were risk ratios, e.g., post-menopausal women using HRT had 0.47 times the risk of CAD compared to women not using HRT, but it is more precise to refer to the ratio of rates rather than risk.)
-->
</details>
</section>
</section>
<section id="odds-ratios" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="odds-ratios"><span class="header-section-number">2.2</span> Odds Ratios</h2>
<section id="excercise-1-1" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="excercise-1-1"><span class="header-section-number">2.2.1</span> Excercise 1</h3>
<p>The influence of increased alcohol consumption on the incidence of esophageal cancer was retrospectively investigated in a clinic over a period of 5 years. Patients with other internal diseases were used as a comparison group.</p>
<table class="caption-top table" data-quarto-postprocess="true" data-cellpadding="8" data-cellspacing="0">
<tbody>
<tr class="odd" style="width:10%;font-weight:900;">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%"></td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Cancer (+)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Cancer (-)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Total</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white; font-weight: 900">Alcohol (+)</td>
<td>192</td>
<td>54</td>
<td>246</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white; font-weight: 900">Alcohol(-)</td>
<td>208</td>
<td>333</td>
<td>541</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%; font-weight: 900">Total</td>
<td>400</td>
<td>387</td>
<td>787</td>
</tr>
</tbody>
</table>
<p><em>Task:</em></p>
<ul style="list-style-type: upper-alpha;">
<li>
Calculate the odds to be exposed while diseased/not diseased (i.e.&nbsp;case/control)
</li>
<li>
Calculate and interpret the odds ratio for the occurrence of esophageal cancer
</li>
</ul>
<!--- Solution OR01A---->
<details>
<summary>
Solution A
</summary>
<p><span class="math display">\[
Odds_{case} = \frac{192}{208} = 0.92
\]</span></p>
<p><span class="math display">\[
Odds_{control} = \frac{54}{333} = 0.16
\]</span></p>
</details>
<!--- Solution OR01B---->
<details>
<summary>
Solution B
</summary>
<p><span class="math display">\[
OR = \frac{0.92}{0.16} = 5.75
\]</span></p>
<p><strong>Interpretation:</strong></p>
<ul>
<li><p>The odds of being exposed to increased alcohol consumption among cases (patients with cancer) is 5.75 times as high compared to the controls (patients with other internal diseases).</p></li>
<li><p>The odds of having cancer are 5.75 times higher among individuals with increased alcohol consumption compared to those without increased alcohol consumption.</p></li>
</ul>
</details>
</section>
<section id="excercise-2-1" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="excercise-2-1"><span class="header-section-number">2.2.2</span> Excercise 2</h3>
<p>A cohort study is investigating the impact of regular physical activity on the incidence of heart disease A total of 1500 individuals were enrolled. The prevalence of heart disease was 25%. 560 of the total participants were in the active group (those practicing physical activity). Among that group, 200 developed heart disease.</p>
<p style="color: #a50e58; font-weight: 900;">
Fill out the 2x2 table!
</p>
<table class="caption-top table" data-quarto-postprocess="true" data-cellpadding="8" data-cellspacing="0">
<tbody>
<tr class="odd" style="width:10%;font-weight:900;">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%"></td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Phy. Activity (+)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Phy. Activity (-)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Total</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white; font-weight: 900">Smoker (+)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white; font-weight: 900">Smoker(-)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%; font-weight: 900">Total</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><em>Task:</em></p>
<ul style="list-style-type: upper-alpha;">
<li>
Calculate the risk for each group and the relative risk based on the table you filled out, interpret the results.
</li>
<li>
Moving to the case-control setting, assume a case-control study instead of a cohort study. Using the same previous figures. Calculate the odds and odds ratio. Please interpret your results.
</li>
</ul>
<!-- Solution OR2 TABLE-->
<details>
<summary>
Solution Table
</summary>
<table class="caption-top table" data-quarto-postprocess="true" data-cellpadding="8" data-cellspacing="0">
<tbody>
<tr class="odd" style="width:10%;font-weight:900;">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%"></td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Phy. Activity (+)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Phy. Activity (-)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Total</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white; font-weight: 900">Smoker (+)</td>
<td>200</td>
<td>360</td>
<td>560</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white; font-weight: 900">Smoker(-)</td>
<td>175</td>
<td>765</td>
<td>940</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%; font-weight: 900">Total</td>
<td>560</td>
<td>940</td>
<td>1500</td>
</tr>
</tbody>
</table>
</details>
<!-- Solution OR2A-->
<details>
<summary>
Solution A
</summary>
<p><span class="math display">\[
Risk_{exposed} = \frac{200}{560} = 0.36
\]</span></p>
<p><span class="math display">\[
Risk_{unexposed} = \frac{175}{940} = 0.19
\]</span></p>
<p><span class="math display">\[
RR = \frac{0.33}{0.12} = 1.89
\]</span></p>
<p><strong>Interpretation:</strong> The risk of suffering from heart disease when practicing physical activity is 1.89 times as high compared to participants who didnâ€™t practice physical activity</p>
</details>
<!-- Solution OR2B-->
<details>
<summary>
Solution B
</summary>
<p><span class="math display">\[
Odds_{case} = \frac{200}{175} = 1.14
\]</span></p>
<p><span class="math display">\[
Odds_{control} = \frac{360}{765} = 0.47
\]</span></p>
<p><span class="math display">\[
OR = \frac{1.67}{0.45} = 2.42
\]</span></p>
<p><strong>Interpretation:</strong> The odds of practicing physical activity among cases is 2.42 times as high as the odd of practicing physical activity among the controls.</p>
</details>
</section>
<section id="excercise-3-1" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="excercise-3-1"><span class="header-section-number">2.2.3</span> Excercise 3</h3>
<p>A study investigating the influence of smoking on asthma crises enrolled 1,400 participants. Among these participants, 20 experienced asthma crises, of which 50% were smokers. Additionally, among the participants who did not experience asthma crises, 430 were smokers.</p>
<p style="color: #a50e58; font-weight: 900;">
Fill out the 2x2 table!
</p>
<table class="caption-top table" data-quarto-postprocess="true" data-cellpadding="8" data-cellspacing="0">
<tbody>
<tr class="odd" style="width:10%;">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%"></td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Asthma (+)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Asthma (-)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Total</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white">Smoker (+)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white">Smoker(-)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%">Total</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><em>Task:</em></p>
<ul style="list-style-type: upper-alpha;">
<li>
Calculate the relative risk and the odds ratio
</li>
<li>
Did you see that the OR and RR were similar? Explain why this may happen.
</li>
</ul>
<!-- Solution OR3 Table -->
<details>
<summary>
Solution Table
</summary>
<table class="caption-top table" data-quarto-postprocess="true" data-cellpadding="8" data-cellspacing="0">
<tbody>
<tr class="odd" style="width:10%;">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%"></td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Asthma (+)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Asthma (-)</td>
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white">Total</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white">Smoker (+)</td>
<td>10</td>
<td>430</td>
<td>440</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="width: 25%; background: #38A3A5; color: white">Smoker(-)</td>
<td>10</td>
<td>950</td>
<td>960</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th" style="background: #38A3A5; color: white; width: 25%">Total</td>
<td>20</td>
<td>1380</td>
<td>1400</td>
</tr>
</tbody>
</table>
</details>
<!-- Solution OR3A -->
<details>
<summary>
Solution A
</summary>
<p><span class="math display">\[
RR = \frac{\frac{10}{440}}{\frac{10}{960}} = 2.18
\]</span></p>
<p><span class="math display">\[
OR = \frac{\frac{10}{10}}{\frac{430}{950}} = 2.21
\]</span></p>
</details>
<!-- Solution OR3B -->
<details>
<summary>
Solution B
</summary>
<p><strong>Rare disease assumption:</strong> when studying diseases that have a low prevalence (&lt;10% as a rule of thumb)in the study population, the odds ratio is a good approximation of the relative risk.</p>
</details>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./measure_frequency.html" class="pagination-link" aria-label="Measures of frequency">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Measures of frequency</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./bias_confounding.html" class="pagination-link" aria-label="Bias &amp; Condounding">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Bias &amp; Condounding</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>